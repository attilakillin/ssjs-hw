<%# Used templating variables: result?, fishList %>
<%- include('components/header', {active: 'leaderboards'}) %>

<!-- Main content -->
<div class="container mx-auto">
    <!-- Header row -->
    <h1 class="text-3xl mb-4">Edit race</h1>

    <!-- Main table listing the properties of a race -->
    <table class="table-fixed w-full border-collapse">
        <tr>
            <th class="border-b-4 border-indigo-50 px-4 py-4 bg-gray-700 text-indigo-50" scope="row">Race</th>
            <td class="pl-3">
                <input class="block w-full px-4 py-3 bg-white" type="text"
                       value="<%= (typeof result !== 'undefined') ? result.race : '' %>">
            </td>
        </tr>
        <tr>
            <th class="border-y-4 border-indigo-50 px-4 py-4 bg-gray-700 text-indigo-50" scope="row">Contestant one</th>
            <td class="pl-3"><select class="block w-full px-4 py-3 bg-white">
                <% fishList.forEach(f => { %>
                    <option <%= (typeof result !== 'undefined' && f.id === result.winner.id) ? 'selected' : '' %>
                            value="<%= f.id %>"><%= f.name %></option>
                <% }); %>
            </select></td>
        </tr>
        <tr>
            <th class="border-y-4 border-indigo-50 px-4 py-4 bg-gray-700 text-indigo-50" scope="row">Time</th>
            <td class="pl-3">
                <input class="block w-full px-4 py-3 bg-white" type="text" 
                       value="<%= (typeof result !== 'undefined') ? result.winner.time : '' %>">
            </td>
        </tr>
        <tr>
            <th class="border-y-4 border-indigo-50 px-4 py-4 bg-gray-700 text-indigo-50" scope="row">Contestant two</th>
            <td class="pl-3"><select class="block w-full px-4 py-3 bg-white">
                <% fishList.forEach(f => { %>
                    <option <%= (typeof result !== 'undefined' && f.id === result.loser.id) ? 'selected' : '' %>
                            value="<%= f.id %>"><%= f.name %></option>
                <% }); %>
            </select></td>
        </tr>
        <tr>
            <th class="border-t-4 border-indigo-50 px-4 py-4 bg-gray-700 text-indigo-50" scope="row">Time</th>
            <td class="pl-3">
                <input class="block w-full px-4 py-3 bg-white" type="text" 
                       value="<%= (typeof result !== 'undefined') ? result.loser.time : '' %>">
            </td>
        </tr>
    </table>


    <!-- 'Cancel' and 'Save' buttons below the table -->
    <div class="flex flex-row justify-end mt-4">
        <a href="/leaderboards" class="hover:outline hover:outline-3 hover:outline-gray-700 px-8 py-3 mr-4 text-lg">Cancel</a>
        <button class="hover:outline hover:outline-3 hover:outline-gray-700 px-8 py-3 text-lg">Save</button>
    </div>
</div>

<%- include('components/footer') %>
